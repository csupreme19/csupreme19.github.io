I"ó<h1 id="kubernetes-pod-ì¬ì‹œì‘-ì •ì±…">Kubernetes Pod ì¬ì‹œì‘ ì •ì±…</h1>

<p><a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#restart-policy">Container restart policy</a></p>

<p>ê°•ì œë¡œ ì£½ëŠ” podë¥¼ ë°°í¬ í›„ í•´ë‹¹ íŒŒë“œê°€ ì–´ë–»ê²Œ restart ë˜ëŠ”ì§€ ì‚´í´ë³´ì•˜ë‹¤.</p>

<hr />

<h2 id="ì‹¤í—˜">ì‹¤í—˜</h2>

<h3 id="ì‹¤í—˜-ì ˆì°¨">ì‹¤í—˜ ì ˆì°¨</h3>

<h4 id="1-pod-ë°°í¬">1. Pod ë°°í¬</h4>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">$ vim dummy-pod.yaml</span>

<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Pod</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">dummy-pod</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">containers</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">dummy-pod</span>
      <span class="na">image</span><span class="pi">:</span> <span class="s">ubuntu</span>
  <span class="na">restartPolicy</span><span class="pi">:</span> <span class="s">Always</span>

<span class="s">$ k apply -f dummy-pod.yaml</span>
<span class="s">pod/dummy-pod created</span>
</code></pre></div></div>

<h4 id="2-pod-ìƒíƒœ-í™•ì¸">2. Pod ìƒíƒœ í™•ì¸</h4>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>k get po
NAME                       READY   STATUS              RESTARTS   AGE
dummy-pod                  0/1     ContainerCreating   0          2s

<span class="nv">$ </span>k get po
NAME                       READY   STATUS      RESTARTS   AGE
dummy-pod                  0/1     Completed   1          10s

<span class="nv">$ </span>k get po
NAME                       READY   STATUS      RESTARTS   AGE
dummy-pod                  0/1     Completed   2          32s

<span class="nv">$ </span>k get po
NAME                       READY   STATUS      RESTARTS   AGE
dummy-pod                  0/1     Completed   3          61s

<span class="nv">$ </span>k get po
NAME                       READY   STATUS      RESTARTS   AGE
dummy-pod                  0/1     Completed   4          118s

<span class="nv">$ </span>k get po
NAME                       READY   STATUS             RESTARTS   AGE
dummy-pod                  0/1     CrashLoopBackOff   4          2m34s

<span class="nv">$ </span>k get po
NAME                       READY   STATUS      RESTARTS   AGE
dummy-pod                  0/1     Completed   5          3m33s
</code></pre></div></div>

<p>10, 30, 60, 110, 210ì´ˆì— ê°ê° restartë˜ëŠ” ê²ƒìœ¼ë¡œ í™•ì¸</p>

<p>ê³µì‹ ë¬¸ì„œì— ë”°ë¥´ë©´ ì§€ìˆ˜ ë°±ì˜¤í”„ ì§€ì—°(10ì´ˆ, 20ì´ˆ, 40ì´ˆ, â€¦)ë¡œ 10ì´ˆë¡œ ì‹œì‘í•˜ì—¬ 2ë°°ì”© ì¬ì‹œì‘ ê°„ê²©ì´ ì¦ê°€í•œë‹¤ê³  í•¨(ìµœëŒ€ 300ì´ˆ(5ë¶„))</p>

<p>ì§€ìˆ˜ë°°ëŠ” ì•„ë‹ˆì§€ë§Œ ë¹„ìŠ·í•˜ê²Œ ì¬ì‹œì‘ ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.</p>

<h4 id="3-ê²°ë¡ ">3. ê²°ë¡ </h4>

<p>ì•„ë˜ì™€ ê°™ì´ ë‹¤ì–‘í•œ ê¸°ì¤€ì„ ì ìš©í•˜ì—¬ íŒŒë“œê°€ ê³„ì† ì¬ì‹œì‘ì¤‘ì¸ì§€ restart íšŸìˆ˜ ë§Œìœ¼ë¡œ íŒë³„ ê°€ëŠ¥</p>
<ul>
  <li>íŒŒë“œ ë°°í¬ í›„ 1ë¶„ ë‚´ 2ë²ˆ ì´ìƒ</li>
  <li>íŒŒë“œ ë°°í¬ í›„ 3ë¶„ ë‚´ 4ë²ˆ ì´ìƒ</li>
</ul>

<hr />

<h2 id="reference">Reference</h2>

<ol>
  <li><a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#restart-policy">Container restart policy</a></li>
</ol>
:ET