I"ÑG<h1 id="ì‹œìŠ¤í…œ-graceful-shutdown">ì‹œìŠ¤í…œ Graceful shutdown</h1>

<p><img src="/assets/img/titles/postgresql-logo.svg" alt="postgresql-logo.svg" /></p>

<p><a href="https://www.postgresql.org/docs/9.4/runtime-config-connection.html">Connection Settings</a></p>

<p>PostgreSQL max_connections ì„¤ì • ë°©ë²•</p>

<hr />
<h2 id="ì‹œìŠ¤í…œ-ì¬ë¶€íŒ…-ë°©ë²•">ì‹œìŠ¤í…œ ì¬ë¶€íŒ… ë°©ë²•</h2>

<p>ì‹œìŠ¤í…œì„ ì¥ì•  ì—†ì´ Graceful í•˜ê²Œ shutdowní•˜ëŠ” ë°©ë²•ì„ ë‹¤ë£¬ë‹¤.</p>

<h2 id="ì„œë²„ë³„-ì¬ë¶€íŒ…">ì„œë²„ë³„ ì¬ë¶€íŒ…</h2>

<h3 id="kubernetes-ì„œë²„">Kubernetes ì„œë²„</h3>
<p>Gracefully shutdown kubernetes nodes</p>

<blockquote>
  <p><a href="https://stackoverflow.com/a/59576322/15263734">https://stackoverflow.com/a/59576322/15263734</a></p>
</blockquote>

<ol>
  <li>ë…¸ë“œ drain
```shell
$ kubectl drain $NODENAME â€“ignore-daemonsets=true</li>
</ol>

<h1 id="local-storage-ë•Œë¬¸ì—-ì§€ìš¸-ìˆ˜-ì—†ëŠ”-ê²½ìš°">local storage ë•Œë¬¸ì— ì§€ìš¸ ìˆ˜ ì—†ëŠ” ê²½ìš°</h1>
<p>$ kubectl drain $NODENAME â€“ignore-daemonsets=true â€“delete-emptydir-data</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>í•´ë‹¹ ë…¸ë“œì—ì„œ ì‹¤í–‰ë˜ëŠ” íŒŒë“œë¥¼ ëª¨ë‘ ì œê±°í•˜ê³  í•´ë‹¹ ë…¸ë“œì˜ íŒŒë“œ ìŠ¤ì¼€ì¤„ë§ì„ ë¹„í™œì„±í™”í•œë‹¤.
&gt; Replicaê°€ 1ê°œì¸ Deploymentë“¤ì€ ë‹¤ìš´íƒ€ì„ ë°œìƒí•  ìˆ˜ ìˆìŒ

2. ë…¸ë“œ drain í™•ì¸
```shell
$ kubectl get nodes $NODENAME
NAME               STATUS   					ROLES                  AGE    VERSION
$NODENAME          Ready SchedulingDisabled     control-plane,master   118d   v1.20.6
$ kubectl get pod -A -o wide | grep $NODENAME
argocd                 argocd-application-controller-0                  1/1     Succeeded   1          92d     10.244.2.96     $NODENAME    &lt;none&gt;           &lt;none&gt;
kube-system            filebeat-2svwt                                   1/1     Succeeded   0          21d     10.222.222.22   $NODENAME    &lt;none&gt;           &lt;none&gt;
kube-system            kube-flannel-ds-4whmt                            1/1     Succeeded   5          118d    10.222.222.22   $NODENAME    &lt;none&gt;           &lt;none&gt;
kube-system            kube-proxy-qjsc8                                 1/1     Succeeded   4          118d    10.222.222.22   $NODENAME    &lt;none&gt;           &lt;none&gt;
kube-system            metricbeat-2ggh2                                 1/1     Succeeded   1          69d     10.222.222.22   $NODENAME    &lt;none&gt;           &lt;none&gt;
kubernetes-dashboard   kubernetes-dashboard-64b46974f-56h9x             1/1     Succeeded   2          81d     10.244.2.98     $NODENAME    &lt;none&gt;           &lt;none&gt;
production               yourapp-prd-deploy-57f9947968-zklkq             1/1     Succeeded   0          4d15h   10.244.2.130    $NODENAME    &lt;none&gt;           &lt;none&gt;
</code></pre></div></div>
<ul>
  <li>ë…¸ë“œ ìƒíƒœ <code class="language-plaintext highlighter-rouge">SchedulingDisabled</code> í™•ì¸</li>
  <li>íŒŒë“œ ìƒíƒœ <code class="language-plaintext highlighter-rouge">Succeeded</code> ì •ìƒì¢…ë£Œ í™•ì¸
    <ul>
      <li>íŒŒë“œ ìƒíƒœê°€ <code class="language-plaintext highlighter-rouge">Terminating</code>ì¸ ê²½ìš° íŒŒë“œê°€ ì¤‘ì§€ë˜ëŠ” ì¤‘ì´ë‹ˆ ëŒ€ê¸°</li>
    </ul>

    <blockquote>
      <p><code class="language-plaintext highlighter-rouge">drain</code> ëª…ë ¹ì–´ëŠ” íŒŒë“œì˜ ì •ìƒ ì¢…ë£Œ(Graceful shutdown)ë¥¼ ë³´ì¥í•œë‹¤</p>
    </blockquote>
  </li>
</ul>

<ol>
  <li>ì„œë²„ ì¬ë¶€íŒ…
    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ì•„ë˜ ë‘ ëª…ë ¹ì–´ì¤‘ ì•„ë¬´ê±°ë‚˜ ìˆ˜í–‰</span>
<span class="nv">$ </span>shutdown <span class="nt">-r</span> now
<span class="nv">$ </span>systemctl reboot
</code></pre></div>    </div>
  </li>
  <li>ë…¸ë“œ íŒŒë“œ ìŠ¤ì¼€ì¤„ë§ ì¬í™œì„±í™”
    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl uncordon <span class="nv">$NODENAME</span>
</code></pre></div>    </div>
  </li>
  <li>ë…¸ë“œ ìƒíƒœ í™•ì¸
    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl get nodes <span class="nv">$NODENAME</span>
NAME               STATUS   ROLES                  AGE    VERSION
<span class="nv">$NODENAME</span>          Ready    control-plane,master   118d   v1.20.6
</code></pre></div>    </div>
  </li>
</ol>

<p>ë…¸ë“œ ìƒíƒœ <code class="language-plaintext highlighter-rouge">Ready</code>ë§Œ ìˆëŠ” ê²ƒ í™•ì¸</p>

<h3 id="rdbms-ì„œë²„-ì¬ë¶€íŒ…">RDBMS ì„œë²„ ì¬ë¶€íŒ…</h3>
<ol>
  <li>RDBMS ìºì‹œ flush
    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sync</span><span class="p">;</span><span class="nb">sync</span>
</code></pre></div>    </div>
  </li>
  <li>rdbms ì„œë¹„ìŠ¤ ì¤‘ì§€
    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>systemctl stop postgresql <span class="c"># postgresqlì˜ ê²½ìš°</span>
<span class="nv">$ </span>systemctl stop mysql <span class="c"># mysqlì˜ ê²½ìš°</span>
</code></pre></div>    </div>
  </li>
  <li>ì¬ë¶€íŒ…
    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ì•„ë˜ ë‘ ëª…ë ¹ì–´ì¤‘ ì•„ë¬´ê±°ë‚˜ ìˆ˜í–‰</span>
<span class="nv">$ </span>shutdown <span class="nt">-r</span> now
<span class="nv">$ </span>systemctl reboot
</code></pre></div>    </div>
  </li>
  <li>ì„œë¹„ìŠ¤ ì •ìƒ ì‹¤í–‰ í™•ì¸
```shell
$ systemctl status postgresql@11-main.service # postgresqlì˜ ê²½ìš°
$ systemctl status mysql.service # mysqlì˜ ê²½ìš°</li>
</ol>

<p>$ systemctl status metricbeat.service # metricbeat
$ systemctl status filebeat.service # filebeat</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
ì •ìƒ ì‹¤í–‰ ì•ˆë˜ì—ˆì„ì‹œ í•˜ë‹¨ ìˆ˜ë™ êµ¬ë™ ëª…ë ¹ì–´ ì°¸ê³ 

### ì˜¤í”ˆì†ŒìŠ¤ ì„œë²„ ì¬ë¶€íŒ…

1. ì¬ë¶€íŒ…
```shell
# ì•„ë˜ ë‘ ëª…ë ¹ì–´ì¤‘ ì•„ë¬´ê±°ë‚˜ ìˆ˜í–‰
$ shutdown -r now
$ systemctl reboot
</code></pre></div></div>

<ol>
  <li>ì„œë¹„ìŠ¤ ì •ìƒ ì‹¤í–‰ í™•ì¸
```shell
    <h1 id="ê°-ì„œë²„ì˜-ì˜¤í”ˆì†ŒìŠ¤ì—-í•´ë‹¹ë˜ëŠ”-ì„œë¹„ìŠ¤-ì ê²€">ê° ì„œë²„ì˜ ì˜¤í”ˆì†ŒìŠ¤ì— í•´ë‹¹ë˜ëŠ” ì„œë¹„ìŠ¤ ì ê²€</h1>
    <p>$ systemctl status mongos.service # mongos
$ systemctl status mongod.service # mongod
$ systemctl status zookeeper.service # zookeeper
$ systemctl status kafka.service # kafka
$ systemctl status elasticsearch.service # elasticsearch
$ systemctl status logstash.service # logstash
$ systemctl status kibana.service # kibana
$ systemctl status nginx.service # nginx</p>
  </li>
</ol>

<p>$ /home/redis/ent714/src/redis-ecli -p 6379	# redis enterpriseì˜ ê²½ìš°</p>

<p>$ systemctl status metricbeat.service # metricbeat
$ systemctl status filebeat.service # filebeat</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
ì •ìƒ ì‹¤í–‰ ì•ˆë˜ì—ˆì„ì‹œ í•˜ë‹¨ ìˆ˜ë™ êµ¬ë™ ëª…ë ¹ì–´ ì°¸ê³ 

### ì—ì´ì „íŠ¸ ì„œë²„ ì¬ë¶€íŒ…

| ì„œë²„ëª…    | ì˜¤í”ˆì†ŒìŠ¤                         |
| --------- | -------------------------------- |
| prd-agent | SafeDB v3.2.18&lt;br&gt;Xroshot v4.0.0 |

1. ì¬ë¶€íŒ…
```shell
# ì•„ë˜ ë‘ ëª…ë ¹ì–´ì¤‘ ì•„ë¬´ê±°ë‚˜ ìˆ˜í–‰
$ shutdown -r now
$ systemctl reboot
</code></pre></div></div>

<ol>
  <li>ì„œë¹„ìŠ¤ êµ¬ë™(ìˆ˜ë™)
```shell
    <h1 id="safedb-agent1">SafeDB Agent1</h1>
    <p>$ cd /root/SafeDB/Agent1/bin
$ ./startup.sh</p>
  </li>
</ol>

<h1 id="safedb-agent2">SafeDB Agent2</h1>
<p>$ cd /root/SafeDB/Agent2/bin
$ ./startup.sh</p>

<h1 id="xroshot-agent">Xroshot Agent</h1>
<p>$ cd /home/xroshot/X_McsAgent
$ ./startAgent.sh</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
3. ì„œë¹„ìŠ¤ ì •ìƒ ì‹¤í–‰ í™•ì¸
```shell
# SafeDB Agent
$ ps -ef | grep SafeDB
$ tail /root/SafeDB/Agent1/logs/inisafe_framework_agent.log
$ tail /root/SafeDB/Agent2/logs/inisafe_framework_agent.log

# Xroshot Agent
$ ps -ef | grep MCS
$ cd /home/xroshot/X_McsAgent
$ ./agentStatus.sh
</code></pre></div></div>
<p>ì •ìƒ ì‹¤í–‰ ì•ˆë˜ì—ˆì„ì‹œ í•˜ë‹¨ ìˆ˜ë™ êµ¬ë™ ëª…ë ¹ì–´ ì°¸ê³ </p>

<h2 id="ì°¸ê³ ì‚¬í•­">ì°¸ê³ ì‚¬í•­</h2>

<h3 id="ì¬ë¶€íŒ…-ì •ë³´-í™•ì¸">ì¬ë¶€íŒ… ì •ë³´ í™•ì¸</h3>

<p><strong>ìµœê·¼ ì¬ë¶€íŒ… ì‹œê°„ í™•ì¸</strong></p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">who</span> <span class="nt">-b</span>
         system boot  2021-06-15 19:00

<span class="nv">$ </span>last reboot
reboot   system boot  3.10.0-1160.31.1 Tue Jun 15 19:00 - 10:06 <span class="o">(</span>55+15:06<span class="o">)</span>
reboot   system boot  3.10.0-1160.25.1 Wed Jun  9 20:25 - 10:06 <span class="o">(</span>61+13:40<span class="o">)</span>
reboot   system boot  3.10.0-957.el7.x Tue Jun  8 17:43 - 10:06 <span class="o">(</span>62+16:23<span class="o">)</span>
</code></pre></div></div>

<p><strong>ì—…íƒ€ì„ í™•ì¸</strong></p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">uptime
</span>10:05:54 up 55 days, 15:05,  1 user,  load average: 0.00, 0.01, 0.05
</code></pre></div></div>

<h3 id="systemd-ì •ë³´-í™•ì¸">systemd ì •ë³´ í™•ì¸</h3>

<p><strong>systemd ë“±ë¡ ì„œë¹„ìŠ¤ ë¦¬ìŠ¤íŠ¸ í™•ì¸</strong></p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>systemctl list-unit-files | <span class="nb">grep </span>enabled
<span class="nv">$ </span>systemctl status ì˜¤í”ˆì†ŒìŠ¤
<span class="nv">$ </span>ps <span class="nt">-ef</span>
</code></pre></div></div>
<p>systemd ì‹œìŠ¤í…œ ë°ëª¬ì— ë“±ë¡ëœ í”„ë¡œì„¸ìŠ¤ë“¤ì€ ë¦¬ë¶€íŠ¸ì‹œ ìë™ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.</p>

<p>systemdë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í”„ë¡œì„¸ìŠ¤ëŠ” OS ì¬ì‹œì‘ì‹œ ì¬ê¸°ë™ ì—¬ë¶€ í™•ì¸ í›„ ì¬ê¸°ë™ë˜ì§€ ì•Šìœ¼ë©´ ìˆ˜ë™ êµ¬ë™ í•„ìš”</p>

<p>systemdì— ë“±ë¡ì´ ë˜ì–´ ìë™ ì‹¤í–‰ëœë‹¤ê³  í•˜ë”ë¼ë„ ì‹¤ì œ ì‘ë™ ì—¬ë¶€ í™•ì¸ í•„ìš”í•˜ë‹¤.</p>

<h3 id="ì„œë¹„ìŠ¤ë³„-systemd-ì‚¬ìš©-ì—¬ë¶€">ì„œë¹„ìŠ¤ë³„ systemd ì‚¬ìš© ì—¬ë¶€</h3>

<p>ì•„ë˜ í…Œì´ë¸”ì€ í˜„ì¬ ìƒìš© êµ¬ì¶•ë˜ì–´ ìˆëŠ” ì˜¤í”ˆì†ŒìŠ¤ ë¦¬ìŠ¤íŠ¸ì™€ systemd ë“±ë¡ ì—¬ë¶€ ë° ìˆ˜ë™ ì‹œì‘ ëª…ë ¹ì–´ë¥¼ ì‘ì„±í•˜ì˜€ë‹¤.</p>

<table>
  <thead>
    <tr>
      <th>ì„œë¹„ìŠ¤</th>
      <th>ì„¤ì¹˜ ì„œë²„</th>
      <th>systemd</th>
      <th>ìˆ˜ë™ ì‹œì‘ ëª…ë ¹ì–´(systemctl ë¶ˆê°€ì‹œ)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>metricbeat</td>
      <td>All</td>
      <td>O</td>
      <td>/usr/share/metricbeat/bin/metricbeat â€“environment systemd -c /etc/metricbeat/metricbeat.yml â€“path.home /usr/share/metricbeat â€“path.config /etc/metricbeat â€“path.data /var/lib/metricbeat â€“path.logs /var/log/metricbeat</td>
    </tr>
    <tr>
      <td>rsyslog</td>
      <td>All</td>
      <td>O</td>
      <td>/usr/sbin/rsyslogd -n</td>
    </tr>
    <tr>
      <td>Server-i</td>
      <td>All</td>
      <td>X</td>
      <td>/opt/serveri/bin/piagenta</td>
    </tr>
    <tr>
      <td>SMP, MetiEye</td>
      <td>All</td>
      <td>X</td>
      <td>/SSR/SA-linux-64 â€“start</td>
    </tr>
    <tr>
      <td>Trend Micro ì„œë²„ë°±ì‹ </td>
      <td>All</td>
      <td>O</td>
      <td>/opt/ds_agent/ds_agent.init start</td>
    </tr>
    <tr>
      <td>filebeat</td>
      <td>prd-mongo-config-1,2,3<br />prd-rdbms-1<br />prd-postgres-1,2<br />prd-mysql-1<br />prd-zkp-1,2,3<br />prd-kafka-1,2,3<br />prd-dmz-proxy-1,2</td>
      <td>O</td>
      <td>/usr/share/filebeat/bin/filebeat â€“environment systemd -c /etc/filebeat/filebeat.yml â€“path.home /usr/share/filebeat â€“path.config /etc/filebeat â€“path.data /var/lib/filebeat â€“path.logs /var/log/filebeat</td>
    </tr>
    <tr>
      <td>mongos</td>
      <td>prd-mongo-config1,2,3</td>
      <td>O</td>
      <td>/usr/bin/mongos â€“config /etc/mongos.conf</td>
    </tr>
    <tr>
      <td>mongod</td>
      <td>prd-mongo-config1,2,3<br />prd-mongo-shard1-1,2,3<br />prd-mongo-shard2-1,2,3</td>
      <td>O</td>
      <td>/usr/bin/mongod â€“config /etc/mongod.conf</td>
    </tr>
    <tr>
      <td>redis-enterprise</td>
      <td>prd-redis-enterprise-1,2</td>
      <td>X</td>
      <td>/home/redis/ent714/redis-start.sh<br />/home/redis/ent714/src/redis-ecli -p 6379</td>
    </tr>
    <tr>
      <td>postgresql</td>
      <td>prd-rdbms-1<br />prd-postgresql-1,2</td>
      <td>O</td>
      <td>/usr/bin/pg_ctlcluster â€“skip-systemctl-redirect %i start</td>
    </tr>
    <tr>
      <td>mysql</td>
      <td>prd-mysql-1</td>
      <td>O</td>
      <td>/usr/sbin/mysqld</td>
    </tr>
    <tr>
      <td>zookeeper</td>
      <td>prd-zkp-1,2,3</td>
      <td>O</td>
      <td>/usr/local/zookeeper/bin/zkServer.sh start</td>
    </tr>
    <tr>
      <td>kafka</td>
      <td>prd-kafka-1,2,3</td>
      <td>O</td>
      <td>/usr/local/kafka/bin/kafka-server-start.sh /usr/local/kafka/config/server.properties</td>
    </tr>
    <tr>
      <td>elasticseaerch</td>
      <td>prd-elastic-master-1,2,3<br />prd-elastic-data-1,2,3</td>
      <td>O</td>
      <td>/usr/share/elasticsearch/bin/systemd-entrypoint -p /var/run/elasticsearch/elasticsearch.pid â€“quiet</td>
    </tr>
    <tr>
      <td>logstash</td>
      <td>prd-elastic-logstash-1,2</td>
      <td>O</td>
      <td>/usr/share/logstash/bin/logstash â€œâ€“path.settingsâ€ â€œ/etc/logstashâ€</td>
    </tr>
    <tr>
      <td>kibana</td>
      <td>prd-elastic-kibana</td>
      <td>O</td>
      <td>/usr/share/kibana/bin/kibana â€œ-c /etc/kibana/kibana.ymlâ€ â€“logging.dest=â€/var/log/kibana/kibana.log</td>
    </tr>
    <tr>
      <td>nginx</td>
      <td>prd-dmz-nginx</td>
      <td>O</td>
      <td>nginx -c /etc/config/nginx.conf</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>ì—ì´ì „íŠ¸</th>
      <th>ì„¤ì¹˜ ì„œë²„</th>
      <th>systemd</th>
      <th>ìˆ˜ë™ ì‹œì‘ ëª…ë ¹ì–´</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>SafeDB</td>
      <td>prd-agent</td>
      <td>X</td>
      <td>/root/SafeDB/Agent1/bin/startup.sh<br />/root/SafeDB/Agent2/bin/startup.sh</td>
    </tr>
    <tr>
      <td>Xroshot</td>
      <td>prd-agent</td>
      <td>X</td>
      <td>/home/xroshot/X_McsAgent/startAgent.sh</td>
    </tr>
  </tbody>
</table>

<p>í•´ë‹¹í•˜ëŠ” ì„œë²„ ì¬ë¶€íŒ…í›„ <code class="language-plaintext highlighter-rouge">systemctl status ì„œë¹„ìŠ¤</code> ëª…ë ¹ì–´ë¡œ ê° ì„œë¹„ìŠ¤ì˜ êµ¬ë™ìƒíƒœ í™•ì¸ í›„</p>

<p>êµ¬ë™ë˜ì–´ ìˆì§€ ì•Šìœ¼ë©´ <code class="language-plaintext highlighter-rouge">systemctl start ì„œë¹„ìŠ¤</code>ë¡œ ì •ìƒ ì‹¤í–‰ì—¬ë¶€ í™•ì¸í•œë‹¤</p>

<p>ê·¸ë˜ë„ ì‹¤í–‰ë˜ì§€ ì•Šìœ¼ë©´ ìœ„ í‘œì— ìˆëŠ” ìˆ˜ë™ ì‹œì‘ ëª…ë ¹ì–´ ì‹¤í–‰(ê¶Œì¥í•˜ì§€ ì•ŠìŒ)</p>

<h3 id="ì„œë²„ë³„-ì„œë¹„ìŠ¤-ëª©ë¡">ì„œë²„ë³„ ì„œë¹„ìŠ¤ ëª©ë¡</h3>
<p>| ì„œë²„                                                         | ì„œë¹„ìŠ¤                                                       |
| â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” | â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” |
| prd-k8s-master-1,2,3<br />prd-k8s-data-1,2,3<br />prd-k8s-worker-1,2,3,4,5,6<br />prd-k8s-ingress-1,2 | kubadm/kubelet/kubctl v1.20.6<br />metricbeat 7.12.1<br />Server-i<br />SMP, MetiEye<br />Trend Micro ì„œë²„ë°±ì‹ <br />rsyslog |
| prd-mongo-config-1,2,3                                       | mongos/mongod v4.4.4<br />metricbeat/filebeat 7.12.1<br />Server-i<br />SMP, MetiEye<br />Trend Micro ì„œë²„ë°±ì‹ <br />rsyslog |
| prd-mongo-shard1,2-1,2,3                                     | mongod v4.4.4<br />metricbeat 7.12.1<br />Server-i<br />SMP, MetiEye<br />Trend Micro ì„œë²„ë°±ì‹ <br />rsyslog |
| prd-redis-enterprise-1,2                                     | redis enterprise 7.1.4<br />metricbeat 7.12.1<br />Server-i<br />SMP, MetiEye<br />Trend Micro ì„œë²„ë°±ì‹ <br />rsyslog |
| prd-rdbms-1                                                  | postgresql 11.11<br />metricbeat/filebeat 7.12.1<br />Server-i<br />SMP, MetiEye<br />Trend Micro ì„œë²„ë°±ì‹ <br />rsyslog |
| prd-postgres-1,2                                             | postgresql 11.7<br />metricbeat/filebeat 7.12.1<br />Server-i<br />SMP, MetiEye<br />Trend Micro ì„œë²„ë°±ì‹ <br />rsyslog |
| prd-mysql-1                                                  | mysql 8.0.25<br />metricbeat/filebeat 7.12.1<br />Server-i<br />SMP, MetiEye<br />Trend Micro ì„œë²„ë°±ì‹ <br />rsyslog |
| prd-zkp-1,2,3                                                | zookeeper 3.6.2<br />metricbeat/filebeat 7.12.1<br />Server-i<br />SMP, MetiEye<br />Trend Micro ì„œë²„ë°±ì‹ <br />rsyslog |
| prd-kafka-1,2,3                                              | kafka 2.7.0<br />scala 2.13<br />metricbeat/filebeat 7.12.1<br />Server-i<br />SMP, MetiEye<br />Trend Micro ì„œë²„ë°±ì‹ <br />rsyslog |
| prd-elastic-master1,2,3<br />prd-elastic-data-1,2,3            | elasticsearch 7.12.1<br />metricbeat 7.12.1<br />Server-i<br />SMP, MetiEye<br />Trend Micro ì„œë²„ë°±ì‹ <br />rsyslog |
| prd-elastic-logstash-1,2                                     | logstash 7.12.1<br />metricbeat 7.12.1<br />Server-i<br />SMP, MetiEye<br />Trend Micro ì„œë²„ë°±ì‹ <br />rsyslog |
| prd-elastic-kibana                                           | kibana 7.12.1<br />metricbeat 7.12.1<br />Server-i<br />SMP, MetiEye<br />Trend Micro ì„œë²„ë°±ì‹ <br />rsyslog |
| prd-dmz-proxy-1,2                                            | nginx 1.14.0<br />metricbeat/filebeat 7.12.1<br />Server-i<br />SMP, MetiEye<br />Trend Micro ì„œë²„ë°±ì‹ <br />rsyslog |
| prd-agent                                                    | X_MCS Agent v4.0.0<br />filebeat 6.2.4<br /> SafeDB Agent v3.2.18<br />metricbeat 7.12.1<br />Server-i<br />SMP, MetiEye<br />Trend Micro ì„œë²„ë°±ì‹ <br />rsyslog |</p>

<hr />

<h2 id="reference">Reference</h2>

<ol>
  <li><a href="https://www.postgresql.org/docs/9.4/runtime-config-connection.html">Connection Settings</a></li>
  <li><a href="https://dba.stackexchange.com/a/161761">https://dba.stackexchange.com/a/161761</a></li>
  <li><a href="https://stackoverflow.com/a/48576319">https://stackoverflow.com/a/48576319</a></li>
</ol>
:ET